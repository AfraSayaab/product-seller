{
	"info": {
		"_postman_id": "listings-api-collection",
		"name": "Listings API",
		"description": "Complete CRUD operations for listings",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Listings",
			"item": [
				{
					"name": "Get All Listings",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings?page=1&pageSize=20&sort=createdAt:desc",
							"host": ["{{base_url}}"],
							"path": ["api", "listings"],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number"
								},
								{
									"key": "pageSize",
									"value": "20",
									"description": "Items per page"
								},
								{
									"key": "sort",
									"value": "createdAt:desc",
									"description": "Sort field:direction (e.g., price:asc, createdAt:desc)"
								}
							]
						},
						"description": "Get all listings with pagination and sorting"
					}
				},
				{
					"name": "Search Listings",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings?q=iphone&page=1&pageSize=20",
							"host": ["{{base_url}}"],
							"path": ["api", "listings"],
							"query": [
								{
									"key": "q",
									"value": "iphone",
									"description": "Search query"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "20"
								}
							]
						},
						"description": "Search listings by title, description, or slug"
					}
				},
				{
					"name": "Get Listings by User",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings?userId=1&page=1&pageSize=20",
							"host": ["{{base_url}}"],
							"path": ["api", "listings"],
							"query": [
								{
									"key": "userId",
									"value": "1",
									"description": "Filter by user ID"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "20"
								}
							]
						},
						"description": "Get listings for a specific user"
					}
				},
				{
					"name": "Get Listings by Category",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings?categoryId=1&page=1&pageSize=20",
							"host": ["{{base_url}}"],
							"path": ["api", "listings"],
							"query": [
								{
									"key": "categoryId",
									"value": "1",
									"description": "Filter by category ID"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "20"
								}
							]
						},
						"description": "Get listings for a specific category"
					}
				},
				{
					"name": "Filter Listings by Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings?status=ACTIVE&page=1&pageSize=20",
							"host": ["{{base_url}}"],
							"path": ["api", "listings"],
							"query": [
								{
									"key": "status",
									"value": "ACTIVE",
									"description": "Filter by status (DRAFT, PENDING, ACTIVE, PAUSED, SOLD, EXPIRED, REJECTED, ARCHIVED)"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "20"
								}
							]
						},
						"description": "Filter listings by status"
					}
				},
				{
					"name": "Filter by Price Range",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings?minPrice=1000&maxPrice=50000&page=1&pageSize=20",
							"host": ["{{base_url}}"],
							"path": ["api", "listings"],
							"query": [
								{
									"key": "minPrice",
									"value": "1000",
									"description": "Minimum price"
								},
								{
									"key": "maxPrice",
									"value": "50000",
									"description": "Maximum price"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "20"
								}
							]
						},
						"description": "Filter listings by price range"
					}
				},
				{
					"name": "Filter by Condition",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings?condition=NEW&page=1&pageSize=20",
							"host": ["{{base_url}}"],
							"path": ["api", "listings"],
							"query": [
								{
									"key": "condition",
									"value": "NEW",
									"description": "Filter by condition (NEW, LIKE_NEW, USED, FOR_PARTS)"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "20"
								}
							]
						},
						"description": "Filter listings by condition"
					}
				},
				{
					"name": "Filter by Currency",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings?currency=PKR&page=1&pageSize=20",
							"host": ["{{base_url}}"],
							"path": ["api", "listings"],
							"query": [
								{
									"key": "currency",
									"value": "PKR",
									"description": "Filter by currency (PKR, USD, EUR, GBP, AED, INR)"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "20"
								}
							]
						},
						"description": "Filter listings by currency"
					}
				},
				{
					"name": "Complex Filter Example",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings?categoryId=1&status=ACTIVE&minPrice=5000&maxPrice=50000&negotiable=true&sort=price:asc&page=1&pageSize=20",
							"host": ["{{base_url}}"],
							"path": ["api", "listings"],
							"query": [
								{
									"key": "categoryId",
									"value": "1"
								},
								{
									"key": "status",
									"value": "ACTIVE"
								},
								{
									"key": "minPrice",
									"value": "5000"
								},
								{
									"key": "maxPrice",
									"value": "50000"
								},
								{
									"key": "negotiable",
									"value": "true"
								},
								{
									"key": "sort",
									"value": "price:asc"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "20"
								}
							]
						},
						"description": "Example with multiple filters combined"
					}
				},
				{
					"name": "Create Listing",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userId\": 1,\n  \"categoryId\": 1,\n  \"locationId\": 1,\n  \"title\": \"iPhone 15 Pro Max 256GB\",\n  \"description\": \"Brand new iPhone 15 Pro Max in excellent condition. Original box and accessories included.\",\n  \"price\": 350000,\n  \"currency\": \"PKR\",\n  \"condition\": \"NEW\",\n  \"negotiable\": true,\n  \"attributes\": {\n    \"storage\": \"256GB\",\n    \"color\": \"Natural Titanium\",\n    \"warranty\": \"Yes\"\n  },\n  \"status\": \"DRAFT\",\n  \"isPhoneVisible\": true,\n  \"images\": [\n    {\n      \"url\": \"https://example.com/image1.jpg\",\n      \"sortOrder\": 0,\n      \"isPrimary\": true\n    },\n    {\n      \"url\": \"https://example.com/image2.jpg\",\n      \"sortOrder\": 1,\n      \"isPrimary\": false\n    },\n    {\n      \"url\": \"https://example.com/image3.jpg\",\n      \"sortOrder\": 2,\n      \"isPrimary\": false\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/listings",
							"host": ["{{base_url}}"],
							"path": ["api", "listings"]
						},
						"description": "Create a new listing with images array"
					}
				},
				{
					"name": "Multiple Filters Combined",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings?userId=1&categoryId=1&status=ACTIVE&condition=NEW&currency=PKR&minPrice=1000&maxPrice=500000&negotiable=true&isPhoneVisible=true&page=1&pageSize=20&sort=price:asc",
							"host": ["{{base_url}}"],
							"path": ["api", "listings"],
							"query": [
								{
									"key": "userId",
									"value": "1",
									"description": "Filter by user"
								},
								{
									"key": "categoryId",
									"value": "1",
									"description": "Filter by category"
								},
								{
									"key": "status",
									"value": "ACTIVE",
									"description": "Filter by status"
								},
								{
									"key": "condition",
									"value": "NEW",
									"description": "Filter by condition"
								},
								{
									"key": "currency",
									"value": "PKR",
									"description": "Filter by currency"
								},
								{
									"key": "minPrice",
									"value": "1000",
									"description": "Minimum price"
								},
								{
									"key": "maxPrice",
									"value": "500000",
									"description": "Maximum price"
								},
								{
									"key": "negotiable",
									"value": "true",
									"description": "Filter by negotiable"
								},
								{
									"key": "isPhoneVisible",
									"value": "true",
									"description": "Filter by phone visibility"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "20"
								},
								{
									"key": "sort",
									"value": "price:asc"
								}
							]
						},
						"description": "Example with all filters combined at the same time"
					}
				}
			]
		},
		{
			"name": "Single Listing",
			"item": [
				{
					"name": "Get Listing by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings/1",
							"host": ["{{base_url}}"],
							"path": ["api", "listings", "1"]
						},
						"description": "Get a single listing by ID"
					}
				},
				{
					"name": "Update Listing",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"iPhone 15 Pro Max 256GB - Updated\",\n  \"price\": 340000,\n  \"status\": \"ACTIVE\",\n  \"negotiable\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/listings/1",
							"host": ["{{base_url}}"],
							"path": ["api", "listings", "1"]
						},
						"description": "Update a listing (partial update - only include fields to update)"
					}
				},
				{
					"name": "Delete Listing (Soft Delete)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings/1",
							"host": ["{{base_url}}"],
							"path": ["api", "listings", "1"]
						},
						"description": "Soft delete a listing (sets deletedAt timestamp)"
					}
				},
				{
					"name": "Delete Listing (Hard Delete)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/listings/1?force=1",
							"host": ["{{base_url}}"],
							"path": ["api", "listings", "1"],
							"query": [
								{
									"key": "force",
									"value": "1",
									"description": "Hard delete (permanently remove from database)"
								}
							]
						},
						"description": "Hard delete a listing (permanently removes from database)"
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000",
			"type": "string"
		}
	]
}

